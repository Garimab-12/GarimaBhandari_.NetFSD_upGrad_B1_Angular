<!DOCTYPE html>
<html>
<head>
    <title>Mini Expense Tracker</title>
</head>
<body>

    <h2>Expense Tracker</h2>

    Title:
    <input type="text" id="title"><br><br>

    Amount:
    <input type="number" id="amount"><br><br>

    Date:
    <input type="date" id="date"><br><br>

    <button onclick="addExpense()">Add Expense</button>
    <button onclick="viewExpenses()">View Expenses</button>
    <button onclick="deleteExpense()">Delete Expense (by Title)</button>

    <h3>Expense List</h3>
    <div id="expenseList"></div>

<script>

    var db = openDatabase('ExpenseDB', '1.0', 'Expense Database', 2 * 1024 * 1024);

    db.transaction(function(tx) {
        tx.executeSql(
            'CREATE TABLE IF NOT EXISTS expenses (title TEXT, amount REAL, date TEXT)',
            [],
            function() {
                console.log("Table Created Successfully");
            },
            function(tx, error) {
                console.log("Table Creation Error: " + error.message);
            }
        );
    });

    function addExpense() {

        var title = document.getElementById("title").value;
        var amount = document.getElementById("amount").value;
        var date = document.getElementById("date").value;

        db.transaction(function(tx) {
            tx.executeSql(
                'INSERT INTO expenses (title, amount, date) VALUES (?, ?, ?)',
                [title, amount, date],
                function() {
                    alert("Expense Added Successfully");
                },
                function(tx, error) {
                    alert("Insert Error: " + error.message);
                }
            );
        });
    }

    function viewExpenses() {

        db.transaction(function(tx) {
            tx.executeSql(
                'SELECT * FROM expenses',
                [],
                function(tx, results) {

                    var output = "";

                    for (var i = 0; i < results.rows.length; i++) {
                        var row = results.rows.item(i);
                        output += "<p>" + row.title + 
                                  " | â‚¹" + row.amount + 
                                  " | " + row.date + "</p>";
                    }

                    document.getElementById("expenseList").innerHTML = output;
                },
                function(tx, error) {
                    alert("Select Error: " + error.message);
                }
            );
        });
    }

    function deleteExpense() {

        var title = document.getElementById("title").value;

        db.transaction(function(tx) {
            tx.executeSql(
                'DELETE FROM expenses WHERE title = ?',
                [title],
                function() {
                    alert("Expense Deleted");
                },
                function(tx, error) {
                    alert("Delete Error: " + error.message);
                }
            );
        });
    }

</script>

</body>
</html>